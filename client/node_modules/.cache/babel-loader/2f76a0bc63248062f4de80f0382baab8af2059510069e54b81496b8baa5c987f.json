{"ast":null,"code":"// src/index.ts\nimport { useState } from \"react\";\nfunction useClipboard({\n  timeout = 2e3\n} = {}) {\n  const [error, setError] = useState(null);\n  const [copied, setCopied] = useState(false);\n  const [copyTimeout, setCopyTimeout] = useState(null);\n  const onClearTimeout = () => {\n    if (copyTimeout) {\n      clearTimeout(copyTimeout);\n    }\n  };\n  const handleCopyResult = value => {\n    onClearTimeout();\n    setCopyTimeout(setTimeout(() => setCopied(false), timeout));\n    setCopied(value);\n  };\n  const copy = valueToCopy => {\n    if (\"clipboard\" in navigator) {\n      navigator.clipboard.writeText(valueToCopy).then(() => handleCopyResult(true)).catch(err => setError(err));\n    } else {\n      setError(new Error(\"useClipboard: navigator.clipboard is not supported\"));\n    }\n  };\n  const reset = () => {\n    setCopied(false);\n    setError(null);\n    onClearTimeout();\n  };\n  return {\n    copy,\n    reset,\n    error,\n    copied\n  };\n}\nexport { useClipboard };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}