{"ast":null,"code":"\"use client\";\n\n// src/use-pagination.ts\nimport { PaginationItemType } from \"@nextui-org/use-pagination\";\nimport { useEffect, useRef, useMemo } from \"react\";\nimport { mapPropsVariants } from \"@nextui-org/system\";\nimport { usePagination as useBasePagination } from \"@nextui-org/use-pagination\";\nimport scrollIntoView from \"scroll-into-view-if-needed\";\nimport { pagination } from \"@nextui-org/theme\";\nimport { useDOMRef } from \"@nextui-org/react-utils\";\nimport { clsx, dataAttr } from \"@nextui-org/shared-utils\";\nvar CURSOR_TRANSITION_TIMEOUT = 300;\nfunction usePagination(originalProps) {\n  const [props, variantProps] = mapPropsVariants(originalProps, pagination.variantKeys);\n  const {\n    as,\n    ref,\n    classNames,\n    dotsJump = 5,\n    loop = false,\n    showControls = false,\n    total = 1,\n    initialPage = 1,\n    page,\n    siblings,\n    boundaries,\n    onChange,\n    className,\n    renderItem,\n    getItemAriaLabel: getItemAriaLabelProp,\n    ...otherProps\n  } = props;\n  const Component = as || \"nav\";\n  const domRef = useDOMRef(ref);\n  const cursorRef = useRef(null);\n  const itemsRef = useRef();\n  const cursorTimer = useRef();\n  function getItemsRefMap() {\n    if (!itemsRef.current) {\n      itemsRef.current = /* @__PURE__ */new Map();\n    }\n    return itemsRef.current;\n  }\n  function getItemRef(node, value) {\n    const map = getItemsRefMap();\n    if (node) {\n      map.set(value, node);\n    } else {\n      map.delete(value);\n    }\n  }\n  function scrollTo(value) {\n    const map = getItemsRefMap();\n    const node = map.get(value);\n    cursorTimer.current && clearTimeout(cursorTimer.current);\n    if (node) {\n      scrollIntoView(node, {\n        scrollMode: \"always\",\n        behavior: \"smooth\",\n        block: \"start\",\n        inline: \"start\",\n        boundary: domRef.current\n      });\n      const {\n        offsetLeft\n      } = node;\n      if (cursorRef.current) {\n        cursorRef.current.setAttribute(\"data-moving\", \"true\");\n        cursorRef.current.style.transform = `translateX(${offsetLeft}px) scale(1.1)`;\n      }\n      cursorTimer.current = setTimeout(() => {\n        if (cursorRef.current) {\n          cursorRef.current.setAttribute(\"data-moving\", \"false\");\n          cursorRef.current.style.transform = `translateX(${offsetLeft}px) scale(1)`;\n        }\n        cursorTimer.current && clearTimeout(cursorTimer.current);\n      }, CURSOR_TRANSITION_TIMEOUT);\n    }\n  }\n  const {\n    range,\n    activePage,\n    setPage,\n    previous,\n    next,\n    first,\n    last\n  } = useBasePagination({\n    page,\n    total,\n    initialPage,\n    siblings,\n    boundaries,\n    showControls,\n    onChange\n  });\n  useEffect(() => {\n    if (activePage && !originalProps.disableAnimation) {\n      scrollTo(activePage);\n    }\n  }, [activePage, originalProps.disableAnimation, originalProps.isCompact, originalProps.disableCursorAnimation]);\n  const slots = useMemo(() => pagination({\n    ...variantProps,\n    disableCursorAnimation: originalProps.disableCursorAnimation || originalProps.disableAnimation\n  }), [...Object.values(variantProps)]);\n  const baseStyles = clsx(classNames == null ? void 0 : classNames.base, className);\n  const onNext = () => {\n    if (loop && activePage === total) {\n      return first();\n    }\n    return next();\n  };\n  const onPrevious = () => {\n    if (loop && activePage === 1) {\n      return last();\n    }\n    return previous();\n  };\n  const getBaseProps = (props2 = {}) => {\n    return {\n      ...props2,\n      ref: domRef,\n      role: \"navigation\",\n      \"aria-label\": props2[\"aria-label\"] || \"pagination navigation\",\n      \"data-slot\": \"base\",\n      \"data-controls\": dataAttr(showControls),\n      \"data-loop\": dataAttr(loop),\n      \"data-dots-jump\": dotsJump,\n      \"data-total\": total,\n      \"data-active-page\": activePage,\n      className: slots.base({\n        class: clsx(baseStyles, props2 == null ? void 0 : props2.className)\n      }),\n      ...otherProps\n    };\n  };\n  const getWrapperProps = (props2 = {}) => {\n    return {\n      ...props2,\n      \"data-slot\": \"wrapper\",\n      className: slots.wrapper({\n        class: clsx(classNames == null ? void 0 : classNames.wrapper, props2 == null ? void 0 : props2.className)\n      })\n    };\n  };\n  const getItemAriaLabel = page2 => {\n    if (!page2) return;\n    if (getItemAriaLabelProp) {\n      return getItemAriaLabelProp(page2);\n    }\n    switch (page2) {\n      case PaginationItemType.DOTS:\n        return \"dots element\";\n      case PaginationItemType.PREV:\n        return \"previous page button\";\n      case PaginationItemType.NEXT:\n        return \"next page button\";\n      case \"first\":\n        return \"first page button\";\n      case \"last\":\n        return \"last page button\";\n      default:\n        return `pagination item ${page2}`;\n    }\n  };\n  const getItemProps = (props2 = {}) => {\n    return {\n      ...props2,\n      ref: node => getItemRef(node, props2.value),\n      \"data-slot\": \"item\",\n      isActive: props2.value === activePage,\n      className: slots.item({\n        class: clsx(classNames == null ? void 0 : classNames.item, props2 == null ? void 0 : props2.className)\n      }),\n      onPress: () => {\n        if (props2.value !== activePage) {\n          setPage(props2.value);\n        }\n      }\n    };\n  };\n  const getCursorProps = (props2 = {}) => {\n    return {\n      ...props2,\n      ref: cursorRef,\n      activePage,\n      \"data-slot\": \"cursor\",\n      className: slots.cursor({\n        class: clsx(classNames == null ? void 0 : classNames.cursor, props2 == null ? void 0 : props2.className)\n      })\n    };\n  };\n  return {\n    Component,\n    showControls,\n    dotsJump,\n    slots,\n    classNames,\n    loop,\n    total,\n    range,\n    activePage,\n    getItemRef,\n    disableCursorAnimation: originalProps.disableCursorAnimation,\n    disableAnimation: originalProps.disableAnimation,\n    setPage,\n    onPrevious,\n    onNext,\n    renderItem,\n    getBaseProps,\n    getWrapperProps,\n    getItemProps,\n    getCursorProps,\n    getItemAriaLabel\n  };\n}\nexport { CURSOR_TRANSITION_TIMEOUT, usePagination };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}