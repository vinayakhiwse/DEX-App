{"ast":null,"code":"import { contract, tokenContract } from \"./contract\";\nimport { toEth, toWei } from \"./ether-utils\";\nimport { BigNumber } from \"ethers\";\n\n//here we swapping the Ether into Token.\nexport const swapEthToToken = async (tokenName, amount) => {\n  try {\n    const tx = {\n      value: toWei(amount)\n    };\n    const contractObj = await contract();\n    const data = await contractObj.swapEthtoToken(tokenName, tx);\n    const receipt = await data.wait();\n    return receipt;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n};\n\n//here we swapping the token into ether.\nexport const SwapTokenToEth = async (tokenName, amount) => {\n  try {\n    const contractObj = await contract();\n    const data = await contractObj.swapTokentoEth(tokenName, toWei(amount));\n    const receipt = await data.wait();\n    return receipt;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n};\n\n//we need to approve tokens approve to be transferred from our account to the contract.\n_c = SwapTokenToEth;\nexport const increaseAllowances = async (tokenName, amount) => {\n  try {\n    const contractObj = await contract();\n    const address = await contractObj.getTokenAddress(tokenName);\n    const tokenContractObj = await tokenContract(address);\n    const data = await tokenContractObj.approve(`0x8dA78e6D47870911bE47A711d24c7946d055b8Cc`, toWei(amount));\n    const receipt = await data.wait();\n    return receipt;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n};\n\n//here we checking valid allowances..\nexport const hasValidAllowance = async (owner, tokenName, amount) => {\n  try {\n    const contractObj = await contract();\n    const address = await contractObj.getTokenAddress(tokenName);\n    const tokenContractObj = await tokenContract(address);\n    const data = await tokenContractObj.allowance(owner, `0x8dA78e6D47870911bE47A711d24c7946d055b8Cc`);\n    const result = BigNumber.from(data.toString()).gte(BigNumber.from(toWei(amount)));\n    return result;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n};\n\n//here we swapping the token to token.\nexport async function swapTokenToToken(srcToken, destToken, amount) {\n  try {\n    const contractObj = await contract();\n    const data = await contractObj.swapTokenToToken(srcToken, destToken, toWei(amount));\n    const receipt = await data.wait();\n    console.log(\"swap transaction..\", receipt);\n    return receipt;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n}\n\n//here we getting token balance by using address of token and tokenName.\nexport const getTokenBalance = async (tokenName, address) => {\n  const contractObj = await contract();\n  const balance = contractObj.getBalance(tokenName, address);\n  return balance;\n};\n\n//here we getting token address by using tokenName.\nexport async function getTokenAddress(tokenName) {\n  try {\n    const contractObj = await contract();\n    const address = await contractObj.getTokenAddress(tokenName);\n    return address;\n  } catch (e) {\n    return e;\n  }\n}\n\n//here we getting the balance of smart contract here...\n\nexport async function getEthBalnce() {\n  try {\n    const contractObj = await contract();\n    const balance = await contractObj.getEthBalance();\n    const newBalance = toEth(balance.toString());\n    return newBalance;\n  } catch (error) {\n    console.log(error);\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"SwapTokenToEth\");","map":{"version":3,"names":["contract","tokenContract","toEth","toWei","BigNumber","swapEthToToken","tokenName","amount","tx","value","contractObj","data","swapEthtoToken","receipt","wait","error","console","log","SwapTokenToEth","swapTokentoEth","_c","increaseAllowances","address","getTokenAddress","tokenContractObj","approve","hasValidAllowance","owner","allowance","result","from","toString","gte","swapTokenToToken","srcToken","destToken","getTokenBalance","balance","getBalance","e","getEthBalnce","getEthBalance","newBalance","$RefreshReg$"],"sources":["/home/hp/Desktop/Dex-back/client/src/utils/queries.js"],"sourcesContent":["import { contract, tokenContract } from \"./contract\";\nimport { toEth, toWei } from \"./ether-utils\";\nimport { BigNumber } from \"ethers\";\n\n//here we swapping the Ether into Token.\nexport const swapEthToToken = async (tokenName, amount) => {\n  try {\n    const tx = { value: toWei(amount) };\n    const contractObj = await contract();\n    const data = await contractObj.swapEthtoToken(tokenName, tx);\n    const receipt = await data.wait();\n    return receipt;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n};\n\n//here we swapping the token into ether.\nexport const SwapTokenToEth = async (tokenName, amount) => {\n  try {\n    const contractObj = await contract();\n    const data = await contractObj.swapTokentoEth(tokenName, toWei(amount));\n    const receipt = await data.wait();\n    return receipt;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n};\n\n//we need to approve tokens approve to be transferred from our account to the contract.\nexport const increaseAllowances = async (tokenName, amount) => {\n  try {\n    const contractObj = await contract();\n    const address = await contractObj.getTokenAddress(tokenName);\n    const tokenContractObj = await tokenContract(address);\n    const data = await tokenContractObj.approve(\n      `0x8dA78e6D47870911bE47A711d24c7946d055b8Cc`,\n      toWei(amount)\n    );\n    const receipt = await data.wait();\n    return receipt;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n};\n\n//here we checking valid allowances..\nexport const hasValidAllowance = async (owner, tokenName, amount) => {\n  try {\n    const contractObj = await contract();\n    const address = await contractObj.getTokenAddress(tokenName);\n    const tokenContractObj = await tokenContract(address);\n    const data = await tokenContractObj.allowance(\n      owner,\n      `0x8dA78e6D47870911bE47A711d24c7946d055b8Cc`\n    );\n\n    const result = BigNumber.from(data.toString()).gte(\n      BigNumber.from(toWei(amount))\n    );\n\n    return result;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n};\n\n//here we swapping the token to token.\nexport async function swapTokenToToken(srcToken, destToken, amount) {\n  try {\n    const contractObj = await contract();\n    const data = await contractObj.swapTokenToToken(\n      srcToken,\n      destToken,\n      toWei(amount)\n    );\n\n    const receipt = await data.wait();\n    console.log(\"swap transaction..\", receipt);\n    return receipt;\n  } catch (error) {\n    console.log(\"error\", error);\n  }\n}\n\n//here we getting token balance by using address of token and tokenName.\nexport const getTokenBalance = async (tokenName, address) => {\n  const contractObj = await contract();\n  const balance = contractObj.getBalance(tokenName, address);\n  return balance;\n};\n\n//here we getting token address by using tokenName.\nexport async function getTokenAddress(tokenName) {\n  try {\n    const contractObj = await contract();\n    const address = await contractObj.getTokenAddress(tokenName);\n    return address;\n  } catch (e) {\n    return e;\n  }\n}\n\n//here we getting the balance of smart contract here...\n\nexport async function getEthBalnce() {\n  try {\n    const contractObj = await contract();\n    const balance = await contractObj.getEthBalance();\n    const newBalance = toEth(balance.toString());\n    return newBalance;\n  } catch (error) {\n    console.log(error);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}