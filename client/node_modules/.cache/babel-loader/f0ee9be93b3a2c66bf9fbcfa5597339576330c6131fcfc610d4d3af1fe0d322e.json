{"ast":null,"code":"\"use client\";\n\n// src/hidden-select.tsx\nimport { useFormReset } from \"@react-aria/utils\";\nimport { useInteractionModality } from \"@react-aria/interactions\";\nimport { useVisuallyHidden } from \"@react-aria/visually-hidden\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nfunction useHiddenSelect(props, state, triggerRef) {\n  var _a;\n  let {\n    autoComplete,\n    name,\n    isDisabled,\n    isRequired,\n    selectionMode,\n    onChange\n  } = props;\n  let modality = useInteractionModality();\n  let {\n    visuallyHiddenProps\n  } = useVisuallyHidden();\n  useFormReset(props.selectRef, state.selectedKey, state.setSelectedKey);\n  return {\n    containerProps: {\n      ...visuallyHiddenProps,\n      \"aria-hidden\": true,\n      [\"data-a11y-ignore\"]: \"aria-hidden-focus\"\n    },\n    inputProps: {\n      type: \"text\",\n      tabIndex: modality == null || state.isFocused || state.isOpen ? -1 : 0,\n      autoComplete,\n      value: (_a = [...state.selectedKeys].join(\",\")) != null ? _a : \"\",\n      required: isRequired,\n      style: {\n        fontSize: 16\n      },\n      onFocus: () => {\n        var _a2;\n        return (_a2 = triggerRef.current) == null ? void 0 : _a2.focus();\n      },\n      disabled: isDisabled,\n      onChange: () => {}\n    },\n    selectProps: {\n      name,\n      tabIndex: -1,\n      autoComplete,\n      disabled: isDisabled,\n      size: state.collection.size,\n      value: selectionMode === \"multiple\" ? [...state.selectedKeys].map(k => String(k)) : [...state.selectedKeys][0],\n      multiple: selectionMode === \"multiple\",\n      onChange: e => {\n        state.setSelectedKeys(e.target.value);\n        onChange == null ? void 0 : onChange(e);\n      }\n    }\n  };\n}\nfunction HiddenSelect(props) {\n  var _a;\n  let {\n    state,\n    triggerRef,\n    selectRef,\n    label,\n    name,\n    isDisabled\n  } = props;\n  let {\n    containerProps,\n    inputProps,\n    selectProps\n  } = useHiddenSelect({\n    ...props,\n    selectRef\n  }, state, triggerRef);\n  if (state.collection.size <= 300) {\n    return /* @__PURE__ */jsxs(\"div\", {\n      ...containerProps,\n      \"data-testid\": \"hidden-select-container\",\n      children: [/* @__PURE__ */jsx(\"input\", {\n        ...inputProps\n      }), /* @__PURE__ */jsxs(\"label\", {\n        children: [label, /* @__PURE__ */jsxs(\"select\", {\n          ...selectProps,\n          ref: selectRef,\n          children: [/* @__PURE__ */jsx(\"option\", {}), [...state.collection.getKeys()].map(key => {\n            let item = state.collection.getItem(key);\n            if ((item == null ? void 0 : item.type) === \"item\") {\n              return /* @__PURE__ */jsx(\"option\", {\n                value: item.key,\n                children: item.textValue\n              }, item.key);\n            }\n          })]\n        })]\n      })]\n    });\n  } else if (name) {\n    return /* @__PURE__ */jsx(\"input\", {\n      autoComplete: selectProps.autoComplete,\n      disabled: isDisabled,\n      name,\n      type: \"hidden\",\n      value: (_a = [...state.selectedKeys].join(\",\")) != null ? _a : \"\"\n    });\n  }\n  return null;\n}\nexport { useHiddenSelect, HiddenSelect };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}