{"ast":null,"code":"import e, { useState as t, useMemo as r, useEffect as o } from \"react\";\nimport { SSRProvider as m } from \"@react-aria/ssr\";\nimport { OverlayProvider as s } from \"@react-aria/overlays\";\nimport i from \"../css-baseline\";\nimport l, { defaultContext as a } from \"./theme-context\";\nimport n from \"../utils/with-defaults\";\nimport u from \"../utils/deep-merge\";\nimport { copyObject as d } from \"../utils/object\";\nimport { changeTheme as c, getThemeName as p, getDocumentCSSTokens as v, getDocumentTheme as f } from \"./utils\";\nimport b from \"../use-ssr\";\nimport { jsx as h } from \"react/jsx-runtime\";\nimport { jsxs as y } from \"react/jsx-runtime\";\nexport default n(({\n  theme: e,\n  disableBaseline: n,\n  children: x\n}) => {\n  const {\n      isBrowser: j\n    } = b(),\n    [B, N] = t(a.type),\n    g = e => {\n      N(t => t !== e ? e : t);\n    },\n    w = e => {\n      const t = f(e);\n      t && g(t);\n    },\n    E = r(() => {\n      const e = j ? v() : {},\n        t = u(d(a.theme), e),\n        r = p(B);\n      return {\n        theme: t,\n        type: r,\n        isDark: \"dark\" === r\n      };\n    }, [B, j]);\n  return o(() => {\n    var e, t, r;\n    w(null == (e = document) ? void 0 : e.documentElement);\n    const o = new MutationObserver(e => {\n      var t;\n      if (e && e.length > 0 && \"BODY\" === (null == (t = e[0]) ? void 0 : t.target.nodeName)) {\n        var r, o, m;\n        const e = null == (r = document) || null == (o = r.body) || null == (m = o.dataset) ? void 0 : m.theme;\n        e && g(e);\n      } else {\n        var s;\n        w(null == (s = document) ? void 0 : s.documentElement);\n      }\n    });\n    return o.observe(null == (t = document) ? void 0 : t.documentElement, {\n      attributes: !0,\n      attributeFilter: [\"data-theme\", \"style\"]\n    }), o.observe(null == (r = document) ? void 0 : r.body, {\n      attributes: !0,\n      attributeFilter: [\"data-theme\", \"style\"]\n    }), () => o.disconnect();\n  }, []), o(() => {\n    j && e && null != e && e.className && (c(e.className), g(p(e.className)));\n  }, [j, e]), h(m, {\n    children: h(s, {\n      children: y(l.Provider, {\n        value: E,\n        children: [!n && h(i, {}), x]\n      })\n    })\n  });\n}, {\n  disableBaseline: !1\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}